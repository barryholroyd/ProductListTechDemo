<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Tue Sep 20 13:55:52 PDT 2016 -->
<title>GetProducts</title>
<meta name="date" content="2016-09-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GetProducts";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/barryholroyd/walmartproducts/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GetProducts.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/barryholroyd/walmartproducts/ExampleUnitTest.html" title="class in com.barryholroyd.walmartproducts"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/barryholroyd/walmartproducts/GetProducts.DownloadJsonTask.html" title="class in com.barryholroyd.walmartproducts"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/barryholroyd/walmartproducts/GetProducts.html" target="_top">Frames</a></li>
<li><a href="GetProducts.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.barryholroyd.walmartproducts</div>
<h2 title="Class GetProducts" class="title">Class GetProducts</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.barryholroyd.walmartproducts.GetProducts</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">GetProducts</span>
extends java.lang.Object</pre>
<div class="block">Get a list of Walmart products.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Barry Holroyd</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://walmartlabs-test.appspot.com">Walmart Products API (mock)</a>, 
<a href="https://walmartlabs-test.appspot.com/_ah/api/walmart/v1">Documentation</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.DownloadJsonTask.html" title="class in com.barryholroyd.walmartproducts">GetProducts.DownloadJsonTask</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.TopObject.html" title="class in com.barryholroyd.walmartproducts">GetProducts.TopObject</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.WmpJsonReader.html" title="class in com.barryholroyd.walmartproducts">GetProducts.WmpJsonReader</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#API_KEY">API_KEY</a></span></code>
<div class="block">API key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#API_PREFIX">API_PREFIX</a></span></code>
<div class="block">URL Prefix.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/barryholroyd/walmartproducts/GetProducts.html" title="class in com.barryholroyd.walmartproducts">GetProducts</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#instance">instance</a></span></code>
<div class="block">Singleton</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#maxProducts">maxProducts</a></span></code>
<div class="block">The total number of products available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#PAGE_SIZE">PAGE_SIZE</a></span></code>
<div class="block">Number of products to request in a single pageNumber.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#pageNumber">pageNumber</a></span></code>
<div class="block">The "pageNumber" of the next set of "batchSize" products to get.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#totalDownloaded">totalDownloaded</a></span></code>
<div class="block">The total number of products downloaded so far.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#GetProducts--">GetProducts</a></span>()</code>
<div class="block">Private constructor to prevent external instantiation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#checkNetworkConnectivity--">checkNetworkConnectivity</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#getMaxProducts--">getMaxProducts</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#getNextPage--">getNextPage</a></span>()</code>
<div class="block">Get the next "pageNumber" of products to be displayed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/barryholroyd/walmartproducts/GetProducts.html#getProducts-int-int-">getProducts</a></span>(int&nbsp;batch,
           int&nbsp;count)</code>
<div class="block">Get the next batch of products.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>public static final&nbsp;<a href="../../../com/barryholroyd/walmartproducts/GetProducts.html" title="class in com.barryholroyd.walmartproducts">GetProducts</a> instance</pre>
<div class="block">Singleton</div>
</li>
</ul>
<a name="PAGE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PAGE_SIZE</h4>
<pre>private static final&nbsp;int PAGE_SIZE</pre>
<div class="block">Number of products to request in a single pageNumber. Maximum is 30.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.barryholroyd.walmartproducts.GetProducts.PAGE_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="API_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>API_KEY</h4>
<pre>private static final&nbsp;java.lang.String API_KEY</pre>
<div class="block">API key.
 This was sent to me by Walmart for the test taken in August, 2016.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.barryholroyd.walmartproducts.GetProducts.API_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="API_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>API_PREFIX</h4>
<pre>private static final&nbsp;java.lang.String API_PREFIX</pre>
<div class="block">URL Prefix.
 Full URL is: API_PREFIX + API_KEY + "/&lt;pageNumber&gt;/&lt;batchSize&gt;"</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.barryholroyd.walmartproducts.GetProducts.API_PREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="pageNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageNumber</h4>
<pre>private&nbsp;int pageNumber</pre>
<div class="block">The "pageNumber" of the next set of "batchSize" products to get.</div>
</li>
</ul>
<a name="maxProducts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxProducts</h4>
<pre>private&nbsp;int maxProducts</pre>
<div class="block">The total number of products available.
 This is included in the response to each request.</div>
</li>
</ul>
<a name="totalDownloaded">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>totalDownloaded</h4>
<pre>private&nbsp;int totalDownloaded</pre>
<div class="block">The total number of products downloaded so far.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GetProducts--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GetProducts</h4>
<pre>private&nbsp;GetProducts()</pre>
<div class="block">Private constructor to prevent external instantiation. The check for null isn't
 strictly necessary, but theoretically prevents someone from using reflection
 and Constructor.setAccessible() from creating one, or from one being created internally
 (within this class) by mistake.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMaxProducts--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxProducts</h4>
<pre>public&nbsp;int&nbsp;getMaxProducts()</pre>
</li>
</ul>
<a name="getNextPage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextPage</h4>
<pre>public&nbsp;void&nbsp;getNextPage()</pre>
<div class="block">Get the next "pageNumber" of products to be displayed. The size of each pageNumber
 is determined by "PAGE_SIZE".

 There appears to be a bug in the server. If you request a full page of products
 that extends beyond the end of the list, it will actually return a full page.
 Interestingly, that doesn't seem to be the case if you use a page size of 1.
 In any case, when we get to the end of the list we only ask for the number of
 remaining products if there aren't enough left to fill a full page.

 NTH: Ideally, we should provide a method for checking to see if the total
 number of available products has changed.</div>
</li>
</ul>
<a name="getProducts-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProducts</h4>
<pre>private&nbsp;void&nbsp;getProducts(int&nbsp;batch,
                         int&nbsp;count)</pre>
<div class="block">Get the next batch of products.

 TBD:
   1. What happens if several calls to this run simultaneously?
   2. How to we display the correct image for a row about to be displayed
      (given that the ViewHolder could have an old URL in it? (Probably
      use the url in the surrounding closure when the runnable is issued (???).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>batch</code> - The batch to be downloaded.</dd>
<dd><code>count</code> - the number of items in the batch to be downloaded.</dd>
</dl>
</li>
</ul>
<a name="checkNetworkConnectivity--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkNetworkConnectivity</h4>
<pre>private&nbsp;boolean&nbsp;checkNetworkConnectivity()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/barryholroyd/walmartproducts/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GetProducts.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/barryholroyd/walmartproducts/ExampleUnitTest.html" title="class in com.barryholroyd.walmartproducts"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/barryholroyd/walmartproducts/GetProducts.DownloadJsonTask.html" title="class in com.barryholroyd.walmartproducts"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/barryholroyd/walmartproducts/GetProducts.html" target="_top">Frames</a></li>
<li><a href="GetProducts.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
